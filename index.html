<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INNOVATION 2026 | CINEMATIC AUTO-SHOWCASE</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@200;400;700&family=Rajdhani:wght@500;700&family=Kanit:wght@300;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #020202;
            --accent-cyan: #00f2ff;
            --poster-h: 70vh;
            --poster-w: calc(var(--poster-h) * 0.7);
            --transition-speed: 3s; /* ปรับความเร็วพื้นฐานให้ช้าลง */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: var(--bg-dark); 
            color: white; 
            font-family: 'Kanit', sans-serif; 
            overflow: hidden; 
            width: 100vw; 
            height: 100vh; 
        }

        /* Overlay ตกแต่งขอบจอให้ดู Cinematic */
        body::after {
            content: "";
            position: fixed;
            inset: 0;
            background: radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
            z-index: 20;
        }

        #start-screen {
            position: fixed; inset: 0; background: var(--bg-dark); z-index: 1000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        #viewport {
            position: relative; width: 100%; height: 100%;
            display: flex; align-items: center; opacity: 0; z-index: 5;
        }

        #poster-track {
            display: flex; gap: 120px; padding: 0 50vw; will-change: transform;
        }

        .poster-card {
            flex-shrink: 0; width: var(--poster-w); height: var(--poster-h);
            background: #0a0a0a; border: 1px solid rgba(255,255,255,0.05);
            position: relative; 
            box-shadow: 0 20px 60px rgba(0,0,0,1);
            filter: grayscale(0.5);
            transition: border-color 1.5s, box-shadow 1.5s;
        }

        .poster-card.is-active {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 70px rgba(0, 242, 255, 0.25);
            filter: grayscale(0);
            z-index: 10;
        }

        .poster-card img { 
            width: 100%; height: 100%; object-fit: contain; 
            display: block;
        }

        /* ปุ่มควบคุมแบบใส */
        .nav-control {
            position: fixed; top: 0; bottom: 0; width: 15vw;
            display: flex; align-items: center; justify-content: center;
            z-index: 100; cursor: pointer; background: transparent;
            border: none; outline: none; transition: background 0.6s;
        }
        .nav-control:hover { background: rgba(0, 242, 255, 0.02); }
        .nav-control svg { width: 50px; fill: white; opacity: 0.1; transition: 0.5s; }
        .nav-control:hover svg { opacity: 0.6; fill: var(--accent-cyan); transform: scale(1.1); }
        .prev-btn { left: 0; }
        .next-btn { right: 0; }

        .hud-ui {
            position: fixed; top: 50px; left: 50px; font-family: 'Rajdhani';
            color: var(--accent-cyan); letter-spacing: 5px; font-size: 13px; z-index: 50;
            text-transform: uppercase; opacity: 0.7;
        }

        #outro {
            position: fixed; inset: 0; background: black; z-index: 500;
            display: none; align-items: center; justify-content: center; flex-direction: column;
            opacity: 0;
        }

        .scan-line {
            position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: var(--accent-cyan); opacity: 0.3;
            pointer-events: none; z-index: 15;
            display: none;
        }
    </style>
</head>
<body>

    <audio id="bgm" loop crossorigin="anonymous"></audio>
    
    <div id="start-screen">
        <div style="font-family: 'Rajdhani'; color: var(--accent-cyan); margin-bottom: 30px; letter-spacing: 10px; font-size: 1rem;">INITIATING_SYSTEM_V.2.0</div>
        <button onclick="bootSystem()" style="padding: 15px 50px; background: none; border: 1px solid rgba(0, 242, 255, 0.5); color: white; cursor: pointer; font-family: 'Kanit'; letter-spacing: 3px; font-weight: 300; transition: 0.5s; overflow: hidden; position: relative;">
            <span style="position: relative; z-index: 2;">START CINEMATIC JOURNEY</span>
        </button>
    </div>

    <button class="nav-control prev-btn" onclick="manualStep(-1)">
        <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </button>
    <button class="nav-control next-btn" onclick="manualStep(1)">
        <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
    </button>

    <div class="hud-ui" id="hud">STATUS: STANDBY</div>

    <div id="viewport">
        <div id="poster-track"></div>
        <div class="scan-line" id="scanner"></div>
    </div>

    <div id="outro">
        <h1 style="font-size: 4rem; font-family: 'Rajdhani'; color: white; letter-spacing: 20px; font-weight: 700;">THANK YOU</h1>
        <div style="width: 150px; height: 1px; background: var(--accent-cyan); margin: 30px 0; opacity: 0.5;"></div>
        <p style="color: var(--accent-cyan); letter-spacing: 6px; font-size: 1.1rem; font-weight: 300;">วิทยาลัยเทคนิคอำนาจเจริญ</p>
    </div>

    <script>
        const posters = [
            "https://image2url.com/r2/default/files/1770270328767-4f665d1c-74e9-4ae6-b0c2-7f372a21abaf.png",
            "https://image2url.com/r2/default/files/1770275641316-44e314b2-6431-49d3-aab6-a67617edaa25.png",
            "https://image2url.com/r2/default/files/1770270350191-9044493b-483f-495c-9c6a-178b44f0df68.png",
            "https://image2url.com/r2/default/files/1770271583761-fc0daa93-045e-458a-a349-601e469c6c55.png",
            "https://image2url.com/r2/default/files/1770278426552-d66b5a92-4c38-4729-86bc-76363cf139d8.png",
            "https://image2url.com/r2/default/files/1770271649022-acfec717-4bb7-4f08-8337-7864cb700977.png",
            "https://image2url.com/r2/default/files/1770271787974-4eca9685-14c2-4e76-9516-d51acb07036f.png",
            "https://image2url.com/r2/default/files/1770271685605-e6944e59-794a-4024-851d-2a18ca0a2b49.png",
            "https://image2url.com/r2/default/files/1770271692165-9669c1da-888a-4388-b716-daa1d105182c.png",
            "https://image2url.com/r2/default/files/1770278221988-d0665551-c23f-43ec-9d06-9413aa45119a.png",
            "https://image2url.com/r2/default/files/1770271707904-b2988bfb-bdc3-4a29-b55d-a4cbc52f2396.png"
        ];

        const audioUrl = "https://image2url.com/r2/default/videos/1770188444874-800b8249-5b6e-4bce-b759-cc0a1002957a.mp4";
        const track = document.getElementById('poster-track');
        let currentIdx = -1; 
        let mainTl;
        let autoResumeTimer;

        // Initialize Cards
        posters.forEach((url, i) => {
            const card = document.createElement('div');
            card.className = 'poster-card';
            card.id = `card-${i}`;
            card.innerHTML = `<img src="${url}" loading="lazy">`;
            track.appendChild(card);
        });

        function bootSystem() {
            gsap.to('#start-screen', { 
                opacity: 0, 
                duration: 2, 
                onComplete: () => document.getElementById('start-screen').remove() 
            });
            
            gsap.to("#viewport", { opacity: 1, duration: 3, ease: "power2.inOut" });
            
            const bgm = document.getElementById('bgm');
            bgm.src = audioUrl;
            bgm.volume = 0;
            bgm.play().catch(() => {});
            gsap.to(bgm, { volume: 0.35, duration: 4 });

            startAutoCycle();
        }

        function startAutoCycle() {
            if (mainTl) mainTl.kill();
            mainTl = gsap.timeline();

            // STEP 1: SLOW CINEMATIC OVERVIEW (ปรับให้ช้าและนุ่มนวลมาก)
            document.getElementById('hud').innerText = "STATUS: INITIAL_SCANNING_GALLERY";
            
            // กวาดกล้องไปจนสุดทาง (ใช้เวลา 25 วินาทีเพื่อให้ดูสบายตา)
            mainTl.to(track, { 
                x: () => -(track.scrollWidth - window.innerWidth), 
                duration: 25, 
                ease: "none" 
            });
            
            // พักสายตา 2 วินาที
            mainTl.to({}, { duration: 2 });

            // ดึงกล้องกลับมาที่จุดเริ่มต้น (ใช้เวลา 6 วินาทีแบบค่อยเป็นค่อยไป)
            mainTl.to(track, { x: 0, duration: 6, ease: "power2.inOut" });

            // STEP 2: FOCUS INDIVIDUAL POSTERS
            posters.forEach((_, i) => {
                mainTl.add(() => focusOn(i), "+=0.5");
                mainTl.to({}, { duration: 8 }); // เพิ่มเวลาดูแต่ละใบเป็น 8 วินาที
            });

            // STEP 3: OUTRO
            mainTl.add(() => {
                document.getElementById('outro').style.display = 'flex';
                gsap.to("#outro", { opacity: 1, duration: 2.5 });
            });
            mainTl.to({}, { duration: 6 });
            mainTl.add(() => {
                gsap.to("#outro", { opacity: 0, duration: 1.5, onComplete: () => {
                    document.getElementById('outro').style.display = 'none';
                    startAutoCycle();
                }});
            });
        }

        function focusOn(index) {
            if (index < 0 || index >= posters.length) return;
            currentIdx = index;

            const cardWidth = document.querySelector('.poster-card').offsetWidth;
            const gap = 120;
            const targetX = -( (cardWidth + gap) * index );

            document.getElementById('hud').innerText = `VIEWING: ${index + 1} / ${posters.length} [AUTO_PILOT]`;

            // เลื่อนกล้องช้าลง (duration 3.5s) และนุ่มนวลกว่าเดิม
            gsap.to(track, { 
                x: targetX, 
                duration: 3.5, 
                ease: "power3.inOut" 
            });

            // ปรับ Visuals ของการเลือกภาพ
            document.querySelectorAll('.poster-card').forEach((el, i) => {
                if (i === index) {
                    el.classList.add('is-active');
                    gsap.to(el, { 
                        scale: 1.15, 
                        opacity: 1, 
                        duration: 2.5,
                        ease: "power2.out"
                    });
                } else {
                    el.classList.remove('is-active');
                    gsap.to(el, { 
                        scale: 0.85, 
                        opacity: 0.3, 
                        duration: 2.5,
                        ease: "power2.out"
                    });
                }
            });
        }

        function manualStep(direction) {
            // หยุดระบบออโต้
            mainTl.pause();
            clearTimeout(autoResumeTimer);

            let target = currentIdx + direction;
            if (target < 0) target = 0;
            if (target >= posters.length) target = posters.length - 1;

            document.getElementById('hud').innerText = `MANUAL_CONTROL: IMAGE_${target + 1}`;
            focusOn(target);

            // หากไม่มีการควบคุม 10 วินาที จะรันออโต้ต่อ
            autoResumeTimer = setTimeout(() => {
                mainTl.play();
            }, 10000);
        }

        // เพิ่มการเลื่อนด้วยเมาส์ (Mouse Wheel) แบบเบาๆ
        window.addEventListener('wheel', (e) => {
            if (e.deltaY > 0) manualStep(1);
            else if (e.deltaY < 0) manualStep(-1);
        }, { passive: true });

    </script>
</body>
</html>
